// PASS: a[3] = 1337
// RET : 0

import "std/memory"
import "std/Array"

function dump<T>(this: Array<T>*) : void {
	printf("----------------\n");
	for(let idx : u64 = 0; idx < .length; ++idx) {
		printf("  a[%d] = %d\n", idx, .get(idx));
	}
}

function test() : Array<u64> {
	let arr : Array<u64>;
	
	arr.push_back(42u64);
	arr.push_back(1337u64);
	arr.dump();
	arr.push_back(42u64);
	arr.push_back(1337u64);
	arr.dump();
	
	return arr;
}

function main() {
	let t = test();
	t.dump();
	return t.length;
}
