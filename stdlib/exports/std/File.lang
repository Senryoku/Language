extern function __open_file(path: char*, mode: char*) : int;
extern function __close_file(fd: int);

export type File {
	let fd : int = 0;
}

// FIXME: Change these to string
export function open(this: File*, path: cstr, mode: cstr) {
	.fd = __open_file(path, mode);
}

export function close(this: File*) {
	if(.fd != 0) __close_file(.fd);
}

export function destructor(this: File*) {
	.close();
}
